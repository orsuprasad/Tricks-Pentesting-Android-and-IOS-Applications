## IOS applications
### Architecture
<a href="https://www.pcloudy.com/wp-content/uploads/2019/02/2.3.png"> 
    <img height="600em" src="https://www.pcloudy.com/wp-content/uploads/2019/02/2.3.png" /> 
</a>

IOS apps developed using Xcode(IDE) in Objective-C & Swift  
Applications file name has .ipa file extension

## Setup and Preparation
### JailBreak 
"Jailbreak for iPhone 5s through iPhone X, iOS 12.0 and up"  
https://checkra.in/  
-> Install Frida and Objection  
https://github.com/sensepost/objection  
https://github.com/frida/frida  
```
pip install frida-tools objection
```
-> Install SSH Server using Cydia on your device  
-> Install frida-server for ARM on your device  
frida - apt URL:  
https://build.frida.re  

### Patching .ipa - Objection (non Jailbroken) - Require MacOS
-> Install applesign  
``` 
npm install -g applesign
```
-> Install insert_dylib  
```
git clone https://github.com/Tyilo/insert_dylib
cd insert_dylib
xcodebuild
cp build/Release/insert_dylib /usr/local/bin/insert_dylib
```
-> Install xcode cli  
-> Install objection  
```
pip install objection
```  
-> Get signing identity  
```
applesign -L
```
-> Patching .ipa  
```
objection patchipa --source <app.ipa> --code-signature <identity_signature> -P embedded.mobileprovision
```
-> Deploy  
```
git clone https://github.com/ios-control/ios-deploy
```
```
ios-deploy ---bundle <app.apk> --debug -W
```

## Decrypting iOS Applications downloaded from App Store
"Apps downloaded from app store are encrypted."  
-> frida-ios-dump  
edit ssh information in dump.py  
```
python3 dump.py "<package_name>"
```
https://github.com/AloneMonkey/frida-ios-dump  
